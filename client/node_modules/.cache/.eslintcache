[{"/Users/saraalkhamri/spotify/client/src/index.js":"1","/Users/saraalkhamri/spotify/client/src/reportWebVitals.js":"2","/Users/saraalkhamri/spotify/client/src/App.js":"3","/Users/saraalkhamri/spotify/client/src/Login.js":"4","/Users/saraalkhamri/spotify/client/src/Dashboard.js":"5","/Users/saraalkhamri/spotify/client/src/useAuth.js":"6","/Users/saraalkhamri/spotify/client/src/Player.js":"7","/Users/saraalkhamri/spotify/client/src/TrackSearchResult.js":"8"},{"size":500,"mtime":1637364556331,"results":"9","hashOfConfig":"10"},{"size":362,"mtime":1637364556333,"results":"11","hashOfConfig":"10"},{"size":274,"mtime":1637542694327,"results":"12","hashOfConfig":"10"},{"size":662,"mtime":1637366452864,"results":"13","hashOfConfig":"10"},{"size":3308,"mtime":1637543053311,"results":"14","hashOfConfig":"10"},{"size":1380,"mtime":1637542860827,"results":"15","hashOfConfig":"10"},{"size":570,"mtime":1637542792387,"results":"16","hashOfConfig":"10"},{"size":587,"mtime":1637542822977,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"oicnew",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},"/Users/saraalkhamri/spotify/client/src/index.js",[],["37","38"],"/Users/saraalkhamri/spotify/client/src/reportWebVitals.js",[],"/Users/saraalkhamri/spotify/client/src/App.js",[],"/Users/saraalkhamri/spotify/client/src/Login.js",[],"/Users/saraalkhamri/spotify/client/src/Dashboard.js",["39"],"import { useState, useEffect } from \"react\"\nimport useAuth from \"./useAuth\"\nimport Player from \"./Player\"\nimport TrackSearchResult from \"./TrackSearchResult\"\nimport { Container, Form } from \"react-bootstrap\"\nimport SpotifyWebApi from \"spotify-web-api-node\"\nimport axios from \"axios\"\n\nconst spotifyApi = new SpotifyWebApi({\n    clientId: \"40e8b276f23c4303abf74945b97b12f1\",\n})\n\nexport default function Dashboard({ code }) {\n    const accessToken = useAuth(code)\n    const [search, setSearch] = useState(\"\")\n    const [searchResults, setSearchResults] = useState([])\n    const [playingTrack, setPlayingTrack] = useState()\n    const [lyrics, setLyrics] = useState(\"\")\n\n    function chooseTrack(track) {\n        setPlayingTrack(track)\n        setSearch(\"\")\n        setLyrics(\"\")\n    }\n\n    useEffect(() => {\n        if (!playingTrack) return\n\n        axios\n            .get(\"http://localhost:3001/lyrics\", {\n                params: {\n                    track: playingTrack.title,\n                    artist: playingTrack.artist,\n                },\n            })\n            .then(res => {\n                setLyrics(res.data.lyrics)\n            })\n    }, [playingTrack])\n\n    useEffect(() => {\n        if (!accessToken) return\n        spotifyApi.setAccessToken(accessToken)\n    }, [accessToken])\n\n    useEffect(() => {\n        if (!search) return setSearchResults([])\n        if (!accessToken) return\n\n        let cancel = false\n        spotifyApi.searchTracks(search).then(res => {\n            if (cancel) return\n            setSearchResults(\n                res.body.tracks.items.map(track => {\n                    const smallestAlbumImage = track.album.images.reduce(\n                        (smallest, image) => {\n                            if (image.height < smallest.height) return image\n                            return smallest\n                        },\n                        track.album.images[0]\n                    )\n\n                    return {\n                        artist: track.artists[0].name,\n                        title: track.name,\n                        uri: track.uri,\n                        albumUrl: smallestAlbumImage.url,\n                    }\n                })\n            )\n        })\n\n        return () => (cancel = true)\n    }, [search, accessToken])\n\n    return (\n        <Container className=\"d-flex flex-column py-2\" style={{ height: \"100vh\" }}>\n            <Form.Control\n                type=\"search\"\n                placeholder=\"Search Songs/Artists\"\n                value={search}\n                onChange={e => setSearch(e.target.value)}\n            />\n            <div className=\"flex-grow-1 my-2\" style={{ overflowY: \"auto\" }}>\n                {searchResults.map(track => (\n                    <TrackSearchResult\n                        track={track}\n                        key={track.uri}\n                        chooseTrack={chooseTrack}\n                    />\n                ))}\n                {searchResults.length === 0 && (\n                    <div className=\"text-center\" style={{ whiteSpace: \"pre\" }}>\n                        {lyrics}\n                    </div>\n                )}\n            </div>\n            <div>\n                <Player accessToken={accessToken} trackUri={playingTrack ?.uri} />\n            </div>\n        </Container>\n    )\n}","/Users/saraalkhamri/spotify/client/src/useAuth.js",[],"/Users/saraalkhamri/spotify/client/src/Player.js",[],"/Users/saraalkhamri/spotify/client/src/TrackSearchResult.js",["40"],"import React from \"react\"\n\nexport default function TrackSearchResult({ track, chooseTrack }) {\n    function handlePlay() {\n        chooseTrack(track)\n    }\n\n    return (\n        <div\n            className=\"d-flex m-2 align-items-center\"\n            style={{ cursor: \"pointer\" }}\n            onClick={handlePlay}\n        >\n            <img src={track.albumUrl} style={{ height: \"64px\", width: \"64px\" }} />\n            <div className=\"ml-3\">\n                <div>{track.title}</div>\n                <div className=\"text-muted\">{track.artist}</div>\n            </div>\n        </div>\n    )\n}",{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","severity":1,"message":"46","line":99,"column":61,"nodeType":"47","messageId":"48","endLine":99,"endColumn":79,"fix":"49"},{"ruleId":"50","severity":1,"message":"51","line":14,"column":13,"nodeType":"52","endLine":14,"endColumn":83},"no-native-reassign",["53"],"no-negated-in-lhs",["54"],"no-whitespace-before-property","Unexpected whitespace before property uri.","MemberExpression","unexpectedWhitespace",{"range":"55","text":"56"},"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation",[3250,3253],"?."]